var j=[7,7,7,31,7,7,47,15,7,71,15,7,87,23,7,103,31,7,119,31,7,143,39,7,159,47,7,175,63,7,191,71,7,199,71,7,223,79,7,223,87,7,223,87,7,215,95,7,215,95,7,215,103,15,207,111,15,207,119,15,207,127,15,207,135,23,199,135,23,199,143,23,199,151,31,191,159,31,191,159,31,191,167,39,191,167,39,191,175,47,183,175,47,183,183,47,183,183,55,207,207,111,223,223,159,239,239,199,255,255,255];class k{width;height;pixels;ctx;imageData;constructor(){this.width=500,this.height=100,this.pixels=new Array(this.width*this.height).fill(0);const h=document.getElementById("canvas");this.ctx=h.getContext("2d",{willReadFrequently:!0}),this.imageData=this.ctx.createImageData(this.width,this.height);const F=(this.height-1)*this.width;for(let g=0;g<this.width;++g)this.pixels[F+g]=36}update(){const h=Number(document.getElementById("wind").value)+1;for(let F=0;F<this.width;++F)for(let g=1;g<this.height;++g){const u=Math.round(Math.random()*3)&3,b=g*this.width+F,p=b-this.width-u+h;this.pixels[p]=this.pixels[b]-(u&1)}}render(){for(let h=0;h<this.height;++h){const F=h*this.width;for(let g=0;g<this.width;++g){const u=F+g,b=this.pixels[F+g]*3;this.imageData.data[u*4]=j[b],this.imageData.data[u*4+1]=j[b+1],this.imageData.data[u*4+2]=j[b+2],this.imageData.data[u*4+3]=255}}this.ctx.putImageData(this.imageData,0,0)}run(){const h=()=>{this.update(),this.render(),window.requestAnimationFrame(h)};setTimeout(h,50)}}document.body.onload=()=>{new k().run()};
